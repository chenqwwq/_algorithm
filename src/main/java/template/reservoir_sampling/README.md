# 蓄水池抽样算法（Reservoir Sampling


## 概述

蓄水池抽样算法一般用于大数据量的等概率随机取值。

例如存在硬盘中，大小远超内存的数据量，需要从中随机选择一个记录并且都要求想等概率。

算法的核心在于每次都不同的保留概率，第 k 次读取的记录会有 1/k 的保留概率。
例如第一次直接选择第一条记录，而第二次而是1/2的保留机会，第三次则是1/3的保留机会，此时前两个记录保留的概率都是 (1/2) * (2/3) = 1/3

递推可得,第k次读取的记录作为最终选择概率为 (1/k) * (k / k+1) * (k+1 / k+2) ... * (k + i / k + i + 1),保证了每次的概率均s等


## 例题
- [随机数索引](https://leetcode.cn/problems/random-pick-index/description/)